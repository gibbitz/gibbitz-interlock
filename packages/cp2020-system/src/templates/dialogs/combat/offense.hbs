{{systemLog ' OFFENSE DIALOG: |' this }}
<form
  data-selector="defenseValues"
  class="offense-dialog"
>
{{!-- output weapon data --}}
{{#cp2020-sectionBox
  title=(localize (concat @root.constants.SYSTEM_NAME '.dialogs.offense.attackDetails.legend'))
  class='offense-dialog__fields'
}}
  {{!-- determine available attack types --}}
  {{#if isMelee}}
    {{cp2020-select
      label=(concat @root.constants.SYSTEM_NAME '.selects.martialArts.label')
      name="maAttackModifier"
      inverted=true
      options=@root.constants.MARTIAL_ARTS_MOVES_SELECT_OPTIONS
    }}
  {{else}}
    {{cp2020-range
      inverted=true
      label=(concat @root.constants.SYSTEM_NAME '.dialogs.offense.attackDetails.rateOfFire')
      markers=rateOfFire
      max=maxRateOfFire
      min=minRateOfFire
      name="roundsFired"
      selector="roundsFired"
      step="1"
      value=minRateOfFire
    }}
    {{cp2020-select
      class="system-cp2020-system--hidden"
      inverted=true
      label=(concat @root.constants.SYSTEM_NAME '.dialogs.checks.selects.autoFire.label')
      name="autoFireType"
      options=@root.constants.AUTO_FIRE_SELECT_OPTIONS
      selector="autoFireType"
    }}
    {{cp2020-range
      class="system-cp2020-system--hidden"
      label=(concat @root.constants.SYSTEM_NAME '.dialogs.checks.selects.firezone.label')
      max=20
      min=3
      name="fireZone"
      selector="fireZone"
    }}
  {{/if}}
{{/cp2020-sectionBox}}
{{!-- select attack type --}}
{{!-- display relevant selections --}}

  {{!-- display for <3 rounds of fire --}}
  {{#if multipleTargets}}
    {{cp2020-select
      label=(concat @root.constants.SYSTEM_NAME '.dialogs.checks.selects.target.label')
      name="targetActorId"
      inverted=true
      options=targetOptions
    }}
  {{else}}
    {{cp2020-input
      name="targetActorId"
      type='hidden'
      value=targetActorId
    }}
  {{/if}}

  {{cp2020-button
    label=(replaceStringTokens (localize (concat @root.constants.SYSTEM_NAME '.dialogs.offense.action')) targetName)
    selector='offense-submit'
    type="submit"
  }}
</form>